import{d as y,r as T,w as I,a as O,o as c,c as l,b as t,t as n,f as w,v as _,g as u,i as e,e as m,n as x}from"./app.js";import{i as r,l as h,a as p}from"./functions.js";const v={class:"col",style:{position:"relative"}},P=["src"],C={key:0,class:"bg-success",style:{color:"white",position:"absolute",top:"0px",padding:"5px",width:"50%",opacity:"0.9"}},k={key:1,class:"bg-danger",style:{color:"white",position:"absolute",top:"0px",padding:"5px",width:"50%",opacity:"0.9"}},S={class:"col"},q={class:"d-inline-block"},N=["max","id","disabled"],G=["disabled"],R=t("i",{class:"bi bi-cart-fill"},null,-1),H=m(" Add to Cart "),$=[R,H],V=["disabled"],A=t("i",{class:"bi bi-heart-fill"},null,-1),B=m(" Add To Wishlist "),D=[A,B],M={class:"row"},U={class:"col"},W=["src"],j=["href"],z=t("p",null,"Visit Our Shop",-1),E=[z],F=y({name:"singleProduct",props:{product:null,shop:null},setup(o){const f=o,d=T(1),g=a=>{if(r()){document.location.href=h();return}p.post("http://customer-shopndot.test/index.php?r=wishlist/additem",{product_id:a},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(s=>{s.data.status==="success"?e.success(s.data.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT}):s.data.status==="error"&&e.error(s.data.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT})}).catch(s=>{e.error(s.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT})})},b=(a,s)=>{if(r()){document.location.href=h();return}p.post("http://customer-shopndot.test/index.php?r=cart/addtocart",{product_id:a,quantity:s},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(i=>{i.data.status==="success"?e.success(i.data.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT}):i.data.status==="error"&&e.error(i.data.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT})}).catch(i=>{e.error(i.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT})})};return I(()=>d.value,a=>{console.log(a)}),O(()=>{}),(a,s)=>(c(),l("div",{class:"row",key:o.product.id},[t("div",v,[t("img",{class:"img-fluid",alt:"Product Image",src:o.product.image},null,8,P),f.product.quantity>0?(c(),l("p",C," In Stock ")):(c(),l("p",k," Out Of Stock "))]),t("div",S,[t("div",null,[t("h3",q,n(o.product.name),1)]),t("p",null,"$"+n(o.product.price),1),t("p",null,n(o.product.description),1),w(t("input",{type:"number",class:"form-control mt-2 product-quantity",max:o.product.quantity,"onUpdate:modelValue":s[0]||(s[0]=i=>d.value=i),id:`${o.product.id}quantity`,name:"user_quantity",ref:"quantityInputRef",disabled:o.product.quantity===0},null,8,N),[[_,d.value]]),t("button",{class:u(["btn btn-outline-primary mt-2",{}]),onClick:s[1]||(s[1]=i=>b(o.product.id,d.value)),disabled:o.product.quantity===0},$,8,G),t("button",{class:u(["d-inline-block btn btn-outline-warning mt-2 mx-2",{}]),disabled:o.product.quantity===0,onClick:s[2]||(s[2]=i=>g(o.product.id))},D,8,V),t("div",M,[t("div",U,[t("img",{alt:"Shop Image",src:o.shop.logo,style:{height:"50px",width:"50px","object-fit":"contain"},class:"mt-2"},null,8,W),t("p",null,n(o.shop.name),1)]),t("a",{href:`?r=site%2Fdisplayshop&id=${o.product.id}`},E,8,j)])])]))}});x("singleProduct",F);

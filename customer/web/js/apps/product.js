import{d as T,r as I,w as O,a as g,o as n,c,b as s,t as l,e as r,f as w,v as _,g as u,i as e,n as x}from"./app.js";import{i as p,l as h,a as m}from"./functions.js";const v=["src","alt"],k={key:0,class:"bg-success",style:{color:"white",position:"absolute",top:"0px",padding:"5px",width:"50%",opacity:"0.9"}},C={key:1,class:"bg-danger",style:{color:"white",position:"absolute",top:"0px",padding:"5px",width:"50%",opacity:"0.9"}},P={class:"card-body p-4"},q={class:"text-center"},S={class:"fw-bolder"},N=["href"],G={class:"supplier-name"},R=s("i",{class:"bi bi-shop"},null,-1),H=["max","id","disabled"],$={class:"card-footer p-4 pt-0 border-top-0 bg-transparent"},B={class:"text-center"},V=["href"],D=s("i",{class:"bi bi-eye-fill"},null,-1),F=[D],M=["disabled"],U=s("i",{class:"bi bi-heart-fill"},null,-1),j=[U],z=["disabled"],A=s("i",{class:"bi bi-cart-fill"},null,-1),E=[A],L=T({name:"product",props:{product:null},setup(t){const b=t,d=I(1),f=a=>{if(p()){document.location.href=h();return}m.post("http://customer-shopndot.test/index.php?r=wishlist/additem",{product_id:a},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{o.data.status==="success"?e.success(o.data.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT}):o.data.status==="error"&&e.error(o.data.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT})}).catch(o=>{e.error(o.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT})})},y=(a,o)=>{if(p()){document.location.href=h();return}m.post("http://customer-shopndot.test/index.php?r=cart/addtocart",{product_id:a,quantity:o},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(i=>{i.data.status==="success"?e.success(i.data.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT}):i.data.status==="error"&&e.error(i.data.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT})}).catch(i=>{e.error(i.message,{autoClose:3e3,position:e.POSITION.TOP_RIGHT})})};return O(()=>d.value,a=>{console.log(a)}),g(()=>{}),(a,o)=>(n(),c("div",{key:t.product.id,class:"card mt-4",style:{width:"18rem"}},[s("img",{src:t.product.image,alt:t.product.name,style:{height:"200px","object-fit":"contain"}},null,8,v),b.product.quantity>0?(n(),c("p",k," In Stock ")):(n(),c("p",C," Out Of Stock ")),s("div",P,[s("div",q,[s("h5",S,l(t.product.name.slice(0,15)),1),s("a",{href:`?r=site%2Fdisplayshop&id=${t.product.id}`,class:"",style:{"text-decoration":"none",color:"darkred"}},[s("p",G,[R,r(" "+l(t.product.supplierId),1)])],8,N),r(" $"+l(t.product.price)+" ",1),w(s("input",{type:"number",class:"form-control mt-2 product-quantity",max:t.product.quantity,"onUpdate:modelValue":o[0]||(o[0]=i=>d.value=i),id:`${t.product.id}quantity`,name:"user_quantity",ref:"quantityInputRef",disabled:t.product.quantity===0},null,8,H),[[_,d.value]])])]),s("div",$,[s("div",B,[s("a",{href:`?r=site%2Fdisplayproduct&id=${t.product.id}`,class:"btn btn-outline-dark mt-auto view-button"},F,8,V),s("button",{class:u(["btn btn-outline-dark mt-auto wishlist-button",{}]),disabled:t.product.quantity===0,onClick:o[1]||(o[1]=i=>f(t.product.id))},j,8,M),s("button",{class:u(["btn btn-outline-dark mt-auto cart-button",{}]),onClick:o[2]||(o[2]=i=>y(t.product.id,d.value)),disabled:t.product.quantity===0},E,8,z)])])]))}});x("product",L);
